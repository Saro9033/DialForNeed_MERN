import{n as a,aw as S,a7 as b,a6 as q,ax as D,v as I,k as E,r as z,j as r,M as T,a3 as w,a2 as C,a9 as O,ay as _,az as A,aA as L}from"./index-_oCaa9Py.js";const W=()=>{const t=a(S)||[],v=a(b),o=a(q),l=a(D),n=I(),{enqueueSnackbar:i}=E();z.useEffect(()=>{(async()=>{try{if(o){i(o,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),n(O());return}if(l){i("Requested",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),n(_());return}n(A())}catch(s){console.error("Error fetching tasks:",s)}})()},[n,o,l,i]),console.log(t);const N=async(e,s)=>{e.preventDefault(),n(L(s))};return r.jsxs("div",{children:[r.jsx(T,{title:"Employee Tasks"}),v==="loading"?r.jsx("div",{className:"d-flex align-items-start justify-content-center",children:r.jsx("div",{className:"loader"})}):t.length==0?r.jsx("p",{children:"No Tasks"}):t.length>0&&r.jsx("ul",{style:{listStyleType:"none"},className:"m-0 p-0",children:t.map(e=>{var s,c,d,u,m,x,h,p,f,y,g,j;return r.jsxs(w,{style:{textDecoration:"none",color:"unset"},to:`/taskDetails/${e._id}`,className:"p-2 my-2 rounded-2 shadow-sm border d-flex align-items-center justify-content-between",children:[r.jsxs("div",{className:"d-flex align-items-center ",children:[r.jsx("img",{src:(c=(s=e==null?void 0:e.order)==null?void 0:s.user)!=null&&c.avatar?e.order.user.avatar:C,width:"50",height:"50",style:{borderRadius:"50%"},className:"border",alt:""}),r.jsxs("div",{className:"d-flex flex-column pl-2",children:[r.jsx("h5",{className:"m-0",children:(u=(d=e==null?void 0:e.order)==null?void 0:d.user)==null?void 0:u.name}),r.jsxs("p",{style:{fontSize:"14px"},className:"m-0 text-secondary",children:["  Order on ",new Date((m=e.order)==null?void 0:m.paidAt).toLocaleDateString()," "]})]})]}),r.jsxs("div",{children:[r.jsx("div",{children:(x=e==null?void 0:e.orderItem)!=null&&x.status.includes("pending")||(p=(h=e==null?void 0:e.orderItem)==null?void 0:h.status)!=null&&p.includes("Pending")?r.jsx("span",{className:"text-danger",style:{fontSize:"14px",fontWeight:"600"},children:(f=e==null?void 0:e.orderItem)==null?void 0:f.status}):r.jsx("span",{className:"text-success",style:{fontSize:"14px",fontWeight:"600"},children:(y=e==null?void 0:e.orderItem)==null?void 0:y.status})}),r.jsx("button",{type:"button",onClick:R=>N(R,e==null?void 0:e.orderItem._id),className:`btn ${(g=e==null?void 0:e.orderItem)!=null&&g.isRequested?"btn-outline-primary":"btn-primary"}`,style:{fontSize:"12px",padding:"3px 6px"},children:(j=e.orderItem)!=null&&j.isRequested?"Requested":"Send Request"})]})]},e._id)})})]})};export{W as default};
