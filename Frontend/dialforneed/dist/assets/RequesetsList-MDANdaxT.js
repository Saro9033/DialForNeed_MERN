import{n as l,a5 as _,v as D,a6 as O,a7 as U,k as H,a8 as A,r as c,a9 as G,aa as L,ab as P,j as t,M as Q,G as e,F as J,ac as K}from"./index-_oCaa9Py.js";import{T as V}from"./Table-tO3HkZXH.js";const Z=()=>{var y,g,f,b,N,S,v,w,C,I,W,k;const o=l(_),i=D(),h=l(O),T=l(U),{enqueueSnackbar:x}=H(),j=l(A);c.useEffect(()=>{h?(x(h,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),i(G())):j&&(x("Status Updated!",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),i(L()),i(P()))},[i,h,x,j]),c.useEffect(()=>{i(P())},[i]);const[M,u]=c.useState(!1),[s,B]=c.useState(null),F=n=>{B(n),u(!0)},m=()=>{u(!1)},d=(n,r,a)=>{n.preventDefault(),i(K({id:r,status:a}))};return T==="loading"||o===null?t.jsx("div",{className:"d-flex align-items-start justify-content-center",children:t.jsx("div",{className:"loader"})}):t.jsxs("div",{children:[t.jsx(Q,{title:"Employee Requests"}),o.length===0?t.jsx("p",{children:"No Requests"}):t.jsx("ul",{style:{listStyleType:"none"},className:"m-0 p-0",children:o.map(n=>{var r,a,z,E;return t.jsxs("li",{className:"p-2 my-2 rounded-2 shadow-sm border d-flex align-items-center justify-content-between",children:[t.jsxs("div",{style:{cursor:"pointer"},className:"w-100 d-flex align-items-center",onClick:()=>F(n),children:[t.jsx("img",{src:(a=(r=n.productId)==null?void 0:r.images[0])==null?void 0:a.image,width:"50",height:"50",style:{borderRadius:"50%"},className:"border",alt:""}),t.jsxs("div",{className:"d-flex flex-column pl-2",children:[t.jsx("h6",{style:{fontSize:"13px"},className:"m-0",children:((z=n.productId)==null?void 0:z.name)||"Product Not Found"}),t.jsx("p",{style:{fontSize:"13px"},className:"m-0 text-secondary",children:(E=n.productId)==null?void 0:E.description.slice(0,20)})]})]}),t.jsxs("div",{children:[t.jsx("div",{children:n.status.includes("pending")||n.status.includes("Pending")?"":t.jsx("span",{className:"text-success",style:{fontSize:"14px",fontWeight:"600"},children:n.status})}),(n.status==="pending"||n.status==="Pending")&&t.jsxs("div",{children:[t.jsx("button",{onClick:p=>d(p,n._id,!0),className:"btn btn-success",style:{fontSize:"10px",fontWeight:"600",padding:"3px 6px"},children:"Completed"}),t.jsx("br",{}),t.jsx("button",{onClick:p=>d(p,n._id,!1),className:"btn btn-danger",style:{fontSize:"10px",fontWeight:"600",padding:"3px 6px"},children:"Not Completed"})]})]})]},n._id)})}),t.jsxs(e,{show:M,onHide:m,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[t.jsx(e.Header,{closeButton:!0,children:t.jsx(e.Title,{id:"contained-modal-title-vcenter",children:s&&((y=s.productId)==null?void 0:y.name)})}),t.jsxs(e.Body,{children:[t.jsx("div",{className:"d-flex align-items-center justify-content-center",children:t.jsx("img",{width:"80",height:"80",src:(f=(g=s==null?void 0:s.productId)==null?void 0:g.images[0])==null?void 0:f.image,alt:""})}),t.jsx(V,{responsive:!0,borderless:!0,children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Product Name:"})}),t.jsx("td",{children:t.jsx("p",{className:"m-0",children:s&&((b=s.productId)==null?void 0:b.name)||"Product Not Found"})})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Description:"})}),t.jsx("td",{children:(N=s==null?void 0:s.productId)==null?void 0:N.description})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Price:"})}),t.jsx("td",{children:(S=s==null?void 0:s.productId)==null?void 0:S.price})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Status:"})}),t.jsx("td",{children:s==null?void 0:s.status})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Quantity:"})}),t.jsx("td",{children:s==null?void 0:s.quantity})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Brand:"})}),t.jsx("td",{children:(w=(v=s==null?void 0:s.productId)==null?void 0:v.brandId)==null?void 0:w.title})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Category:"})}),t.jsx("td",{children:(I=(C=s==null?void 0:s.productId)==null?void 0:C.categoryId)==null?void 0:I.title})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Type:"})}),t.jsx("td",{children:(W=s==null?void 0:s.productId)==null?void 0:W.type})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{width:"150px"},children:t.jsx("span",{style:{fontWeight:"700"},children:"Total Amount:"})}),t.jsx("td",{children:t.jsxs("b",{children:[" ",((k=s==null?void 0:s.productId)==null?void 0:k.price)*(s==null?void 0:s.quantity)]})})]})]})})]}),t.jsxs(e.Footer,{children:[((s==null?void 0:s.status)==="pending"||(s==null?void 0:s.status)==="Pending")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:n=>d(n,s==null?void 0:s._id,!0),className:"btn btn-success",style:{fontSize:"10px",fontWeight:"600",padding:"3px 6px"},children:"Completed"}),"  ",t.jsx("button",{onClick:n=>d(n,s==null?void 0:s._id,!1),className:"btn btn-danger",style:{fontSize:"10px",fontWeight:"600",padding:"3px 6px"},children:"Not Completed"})]}),t.jsx(J,{onClick:m,children:"Close"})]})]})]})};export{Z as default};
