import{n as c,aV as p,bs as y,bt as E,bu as w,v as g,k as A,r as x,bv as C,aN as R,j as e,D as j,E as m,bg as k,G as d,bm as D,bw as F,bx as P}from"./index-CP13wdj2.js";const B=()=>{const i=c(p),s=c(y),l=c(E),n=c(w),a=g(),{enqueueSnackbar:o}=A();x.useEffect(()=>{if(l){o(l,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"},onExited:()=>{a(C())}});return}a(R())},[a,l,o]);const b=()=>{const r={columns:[{label:"Register on",field:"loggedIn",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Phone Number",field:"number",sort:"asc"},{label:"Role",field:"type",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return i.forEach(t=>{r.rows.push({loggedIn:new Date(t.createdAt).toLocaleDateString(),name:t.name,number:t.phoneNumber,type:t.role,actions:e.jsx("button",{onClick:N=>f(N,t._id),className:"btn btn-primary",children:e.jsx(D,{})})})}),r},[u,h]=x.useState(!1),f=(r,t)=>{r.target.disabled=!0,h(!0),a(F(t))},v=()=>{h(!1),a(P())};return e.jsxs("div",{children:[n==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):n==="succeeded"&&i.length===0?e.jsx("h1",{children:"No User Placed"}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mt-4",children:e.jsx(m,{children:e.jsx("h2",{children:"All Users"})})}),e.jsx(j,{children:e.jsx(m,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(k,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:b()})})})})]}),e.jsxs(d,{show:u,onHide:v,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[e.jsx(d.Header,{closeButton:!0,children:e.jsx(d.Title,{id:"contained-modal-title-vcenter",children:s==null?void 0:s.name})}),e.jsx(d.Body,{children:n==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):e.jsx(e.Fragment,{children:e.jsx("div",{children:s&&e.jsxs(e.Fragment,{children:[s.avatar?e.jsx("div",{className:"d-flex align-items-center justify-content-center",children:e.jsx("img",{width:"120",height:"120",className:"rounded-circle border",src:s==null?void 0:s.avatar,alt:""})}):"",e.jsx("table",{className:"mt-4 w-100 table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Name"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.name]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Email"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.email]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Phone Number"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.phoneNumber]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Address"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.address,", ",s==null?void 0:s.city,", ",s==null?void 0:s.country,", ",s==null?void 0:s.postalCode]})]})]})})]})})})})]})]})};export{B as default};
