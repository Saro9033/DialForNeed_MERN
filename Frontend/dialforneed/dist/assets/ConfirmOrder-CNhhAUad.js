import{n as m,s as b,ah as p,Z as y,r as o,j as e}from"./index-_oCaa9Py.js";import{C as u}from"./CheckOutSteps-BwzBLy5h.js";const f=()=>{const s=m(b),c=m(p),x=y(),t=()=>{let r=0;return{itemsDetail:c.map(d=>{const i=d.price*d.quantity;return r+=i,{name:d.name,quantity:d.quantity,price:d.price,image:d.image,itemTotal:i}}),grandTotal:r}},a=r=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),l=()=>{const r={itemsPrice:a(t().grandTotal),totalPrice:a(t().grandTotal)};sessionStorage.setItem("orderInfo",JSON.stringify(r)),x("/payment")},[n,h]=o.useState(window.innerWidth);return o.useEffect(()=>{const r=()=>h(window.innerWidth);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container",style:{minHeight:"100vh",marginBottom:n>990?" ":"90px"},children:[e.jsx(u,{confirmOrder:!0}),e.jsxs("div",{className:"row mt-2 d-flex justify-content-between mb-5",children:[e.jsxs("div",{className:"col-12 col-lg-8 mb-4 order-confirm",children:[e.jsxs("div",{id:n>990?"order_summary":"",className:`${n>990?"table-responsive mb-4":"shadow-sm p-3 rounded-3 mb-4"}`,children:[n>990?e.jsxs(e.Fragment,{children:["  ",e.jsx("h5",{className:"mb-3",children:"Delivery To:"}),n>990?e.jsx("hr",{}):"",e.jsx("table",{className:n>990?"table":"",children:e.jsxs("tbody",{style:{background:"#FCFCFC"},children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Customer Name"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.name]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Phone Number"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.phoneNumber]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("b",{children:"Address"})}),e.jsxs("td",{children:[":    ",s==null?void 0:s.address,", ",s==null?void 0:s.city,", ",s==null?void 0:s.country,", ",s==null?void 0:s.postalCode]})]})]})})," "]}):e.jsx("div",{children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("h6",{className:"",children:e.jsx("b",{children:"Delivery To:"})}),e.jsx("b",{children:"Customer Name"}),e.jsxs("span",{className:"mt-2",children:[s==null?void 0:s.address,", ",s==null?void 0:s.city,", ",s==null?void 0:s.country,", ",s==null?void 0:s.postalCode,", ",s==null?void 0:s.phoneNumber]})]})}),n>990?e.jsx("hr",{}):""]}),e.jsx("div",{className:"row m-0 mb-4",children:e.jsxs("div",{id:n>990?"order_summary":"",className:`${n>990?"":"shadow-sm p-2 rounded-3 "}`,children:[n>990?e.jsx("h5",{children:"Your Cart Items"}):"",n>990?e.jsx("hr",{}):"",t().itemsDetail.map((r,j)=>e.jsxs("div",{className:"my-2 py-1 bg-white rounded-1 shadow-sm d-flex m-0 w-100 align-items-center",children:[e.jsx("img",{src:r.image,alt:r.name,className:"border",style:{objectFit:"cover"},height:n<990?"60px":"90px",width:n<990?"150px":"20%"}),e.jsxs("div",{className:`${n<990?"pl-4":"pl-3"} w-100 d-flex flex-column`,children:[e.jsx("div",{style:{textDecoration:"none",color:"unset"},className:"mt-2",to:`/product/${r._id}`,children:n>990?e.jsxs("h5",{children:[r.name,` (${r.quantity}x)`," "]}):e.jsxs("h6",{children:[r.name," ",` (${r.quantity}x)`]})}),e.jsx("div",{className:"d-flex ",children:e.jsx("div",{id:"card_item_price",style:{color:"black",fontSize:"15px"},className:"m-0",children:n>990?e.jsxs("h6",{children:["  ",a(r.price)]}):e.jsx("p",{className:"m-0",children:a(r.price)})})}),"                                                                               "]})]})),n>990?e.jsx("hr",{}):""]})})]}),e.jsx("div",{className:" d-none d-md-block col-12 col-lg-4",children:e.jsxs("div",{id:"order_summary",children:[n>990?e.jsx("h5",{children:"Price Details:"}):e.jsx("h6",{children:"Price Details"}),e.jsx("hr",{}),e.jsxs("p",{children:["Subtotal:  ",e.jsx("span",{className:"order-summary-values",children:a(t().grandTotal)})]}),e.jsx("hr",{}),e.jsxs("div",{className:" d-flex justify-content-between align-items-center",children:[e.jsx("p",{className:"m-0 order-summary-values",children:"Total:"}),e.jsx("p",{className:"m-0  order-summary-values",children:a(t().grandTotal)})]}),"                            ",e.jsx("hr",{}),e.jsx("button",{id:"checkout_btn",onClick:l,className:"btn btn-primary btn-block",children:"Proceed to Payment"})]})}),e.jsxs("div",{className:"d-block fixed-bottom d-md-none border bg-white col-12 pt-2 px-4",style:{zIndex:"0",fontSize:"22px",paddingBottom:"60px"},children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{children:["  Totals",e.jsxs("span",{children:["(",c.length," items)"]})]}),e.jsxs("div",{children:[e.jsx("b",{children:a(t().grandTotal)})," "]})]}),e.jsx("button",{id:"checkout_btn",onClick:l,className:"btn btn-primary mt-2 btn-block",children:"Proceed to Payment"})]})]})]})})};export{f as default};
