import{r as t,l as N,v as P,n as o,z as E,ad as z,Y as k,ae as A,k as C,Z as R,af as I,$ as L,j as s,F as m,ag as O}from"./index-B9-9R2Yl.js";import{I as f,a as h}from"./index-BQ4Tikx6.js";import{S as D}from"./Spinner-ChA3OBv3.js";const Y=()=>{const[l,p]=t.useState(""),[c,x]=t.useState(""),{token:w}=N(),a=P(),g=o(E),j=o(z),n=o(k),v=o(A),{enqueueSnackbar:d}=C(),[r,S]=t.useState(!1),[i,b]=t.useState(!1),y=e=>{e.preventDefault(),a(O({password:l,confirmPassword:c,token:w}))},u=R();return t.useEffect(()=>{if(v){d("Password Reset Successfully",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),a(I()),u("/");return}if(n){d(n,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"},onExited:()=>{a(L())}});return}},[g,n,a,u]),s.jsx("div",{className:" d-flex align-items-center justify-content-center w-100",style:{minHeight:"100vh"},children:s.jsx("div",{className:"row wrapper w-100",children:s.jsx("div",{className:"col-10 col-lg-5",children:s.jsxs("form",{className:"shadow-lg",onSubmit:y,children:[s.jsx("h1",{className:"mb-3",children:"New Password"}),s.jsxs("div",{className:" py-4 form-control input-field d-flex align-items-center",children:[" ",s.jsx("button",{type:"button",style:{outline:"none",border:"none"},onClick:()=>S(!r),children:r?s.jsx(f,{className:"fas",fontSize:"1.5rem"}):s.jsx(h,{className:"fas",fontSize:"1.5rem"})}),"  ",s.jsx("input",{className:"form-control ",style:{border:"none",outline:"none"},value:l,onChange:e=>p(e.target.value),type:r?"text":"password",placeholder:"Password"})]}),s.jsxs("div",{className:" py-4 form-control mt-4 input-field d-flex align-items-center",children:[" ",s.jsx("button",{type:"button",style:{outline:"none",border:"none"},onClick:()=>b(!i),children:i?s.jsx(f,{className:"fas",fontSize:"1.5rem"}):s.jsx(h,{className:"fas",fontSize:"1.5rem"})}),"  ",s.jsx("input",{className:"form-control ",style:{border:"none",outline:"none"},value:c,onChange:e=>x(e.target.value),type:i?"text":"password",placeholder:"Confirm Password"})]}),j==="loading"?s.jsxs(m,{variant:"primary",className:"w-100 btn solid",disabled:!0,children:[s.jsx(D,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Loading..."]}):s.jsx(m,{type:"submit",value:"Login",className:"w-100 btn solid",children:"Set Password"})]})})})})};export{Y as default};
