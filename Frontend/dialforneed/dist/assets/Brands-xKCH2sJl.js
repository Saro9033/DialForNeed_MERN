import{n,aX as A,bb as U,bP as _,bQ as z,bR as F,bS as O,v as V,k as R,r as o,bT as W,bU as P,aQ as c,bV as Q,bW as T,j as e,D as u,E as r,F as w,bf as y,bg as X,bX as q,bj as G,bk as Y,bY as Z,bZ as H}from"./index-_oCaa9Py.js";const K=()=>{const h=n(A),p=n(U),m=n(_),j=n(z),f=n(F),g=n(O),a=V(),{enqueueSnackbar:d}=R(),[i,x]=o.useState(""),[v,B]=o.useState(null),[b,C]=o.useState("");o.useEffect(()=>{if(m){d(m,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),a(W());return}if(j){d("Brand Added",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),a(P()),a(c());return}if(f&&(d("Brand Updated",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),a(Q()),a(c())),g){d("Category Deleted",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),a(T()),a(c());return}a(c())},[a,m,d,j,f,g]);const N=s=>{s.preventDefault(),i.trim()!==""&&(a(q(i.trim())),x(""))},D=s=>{var l;B(s);const t=(l=h.find(k=>k._id===s))==null?void 0:l.title;C(t)},E=s=>{console.log(b),a(Z({id:s,title:b})),B(null)},I=s=>{window.confirm("Are you sure you want to delete this brand?")&&a(H(s))},S=()=>{const s={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Brands",field:"name",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return h.forEach(t=>{s.rows.push({id:t._id,name:v===t._id?e.jsx("input",{type:"text",value:b,onChange:l=>C(l.target.value),className:"form-control"}):t.title,actions:v===t._id?e.jsx("button",{onClick:()=>E(t._id),className:"btn btn-primary",children:"Update"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>D(t._id),className:"btn btn-primary",children:[" ",e.jsx(G,{}),"  "]}),e.jsx("button",{onClick:()=>I(t._id),className:"btn btn-danger py-1 px-2 ml-2",children:e.jsx(Y,{})})]})})}),s};return e.jsx("div",{children:p==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):p==="succeeded"&&h.length===0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"No Brands Placed"}),e.jsxs(u,{className:"w-100 mb-3",children:[e.jsx(r,{xs:10,sm:10,md:10,lg:10,children:e.jsx("input",{className:"form-control",type:"text",value:i,onChange:s=>x(s.target.value)})}),e.jsx(r,{xs:2,sm:2,md:2,lg:2,children:e.jsxs(w,{type:"button",variant:"primary",onClick:N,children:[window.innerWidth<800?"":"ADD ",e.jsx(y,{fontSize:"1.5rem"})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"mt-4",children:e.jsx(r,{children:e.jsx("h2",{children:"All Brands"})})}),e.jsxs(u,{className:"w-100 mb-3",children:[e.jsx(r,{xs:10,sm:10,md:10,lg:10,children:e.jsx("input",{className:"form-control",type:"text",value:i,onChange:s=>x(s.target.value)})}),e.jsx(r,{xs:2,sm:2,md:2,lg:2,children:e.jsxs(w,{type:"button",variant:"primary",onClick:N,children:[window.innerWidth<800?"":"ADD ",e.jsx(y,{fontSize:"1.5rem"})]})})]}),e.jsx(u,{children:e.jsx(r,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(X,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:S()})})})})]})})};export{K as default};
