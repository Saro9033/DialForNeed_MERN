import{n as c,aU as h,as as x,am as b,v as f,k as j,r as p,an as O,aO as g,j as e,D as l,E as d,bg as N,a3 as v,bm as E}from"./index-B9-9R2Yl.js";const I=()=>{const a=c(h),i=c(x),t=c(b),n=f(),{enqueueSnackbar:o}=j();p.useEffect(()=>{if(t){o(t,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"},onExited:()=>{n(O())}});return}n(g())},[n,t,o]);const m=r=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),u=()=>{const r={columns:[{label:"Ordered On",field:"date",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Phone Number",field:"number",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Number of Items",field:"noOfItems",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return a.forEach(s=>{r.rows.push({date:new Date(s.createdAt).toLocaleDateString(),name:e.jsxs(e.Fragment,{children:[s.user.name,e.jsx("br",{}),e.jsxs("span",{className:"text-secondary",style:{fontSize:"14px"},children:["(",s.user.email,")"]})]}),number:s.user.phoneNumber,noOfItems:s.orderItems.length,amount:m(s.totalPrice),actions:e.jsx(v,{to:`/admin/order/${s._id}`,className:"btn btn-primary",children:e.jsx(E,{})})})}),r};return console.log(a),e.jsx("div",{children:i==="loading"?e.jsx("div",{className:"d-flex align-items-start justify-content-center",children:e.jsx("div",{className:"loader"})}):i==="succeeded"&&a.length===0?e.jsx("h1",{children:"No Orders Placed"}):e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"mt-4",children:e.jsx(d,{children:e.jsx("h2",{children:"Orders"})})}),e.jsx(l,{children:e.jsx(d,{children:e.jsx("div",{className:"table-responsive",children:e.jsx(N,{className:"px-3",bordered:!0,striped:!0,hover:!0,searching:!1,responsive:!0,data:u()})})})})]})})};export{I as default};
